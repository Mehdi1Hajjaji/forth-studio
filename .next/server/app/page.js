(()=>{var e={};e.id=931,e.ids=[931],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},86970:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),s(35480),s(25086),s(35866);var r=s(23191),i=s(88716),a=s(37922),n=s.n(a),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,35480)),"c:\\Users\\pc\\OneDrive\\Desktop\\forth.studio\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,25086)),"c:\\Users\\pc\\OneDrive\\Desktop\\forth.studio\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["c:\\Users\\pc\\OneDrive\\Desktop\\forth.studio\\src\\app\\page.tsx"],u="/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},56453:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},57298:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,79404,23)),Promise.resolve().then(s.bind(s,85077))},50758:(e,t,s)=>{Promise.resolve().then(s.bind(s,2108))},2108:(e,t,s)=>{"use strict";s.d(t,{AppProviders:()=>a});var r=s(10326),i=s(77109);function a({children:e}){return r.jsx(i.SessionProvider,{children:e})}},85077:(e,t,s)=>{"use strict";s.d(t,{AuthButtons:()=>n});var r=s(10326),i=s(17577),a=s(77109);function n({className:e}){let{data:t,status:s}=(0,a.useSession)(),[n,o]=(0,i.useState)(!1);async function l(){o(!0);try{await (0,a.signIn)(void 0,{callbackUrl:"/"})}finally{o(!1)}}async function d(){o(!0);try{await (0,a.signOut)({callbackUrl:"/"})}finally{o(!1)}}let c="loading"===s||n,u=e??"flex items-center gap-3 text-sm font-medium";return"authenticated"===s&&t?.user?(0,r.jsxs)("div",{className:u,children:[r.jsx("span",{className:"hidden text-white/70 md:block",children:t.user.name??t.user.email}),r.jsx("button",{type:"button",onClick:d,disabled:c,className:"rounded-full border border-white/15 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-accent hover:text-white disabled:cursor-not-allowed disabled:opacity-60",children:c?"Signing out…":"Sign out"})]}):r.jsx("div",{className:u,children:r.jsx("button",{type:"button",onClick:l,disabled:c,className:"rounded-full border border-accent/40 px-4 py-2 text-sm font-medium text-accent transition hover:border-accent hover:bg-accent/10 disabled:cursor-not-allowed disabled:opacity-60",children:c?"Loading…":"Sign in"})})}},57371:(e,t,s)=>{"use strict";s.d(t,{default:()=>i.a});var r=s(670),i=s.n(r)},670:(e,t,s)=>{"use strict";let{createProxy:r}=s(68570);e.exports=r("c:\\Users\\pc\\OneDrive\\Desktop\\forth.studio\\node_modules\\next\\dist\\client\\link.js")},25086:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,metadata:()=>u});var r=s(19510),i=s(25384),a=s.n(i);s(5023);var n=s(68570);let o=(0,n.createProxy)(String.raw`c:\Users\pc\OneDrive\Desktop\forth.studio\src\components\providers\AppProviders.tsx`),{__esModule:l,$$typeof:d}=o;o.default;let c=(0,n.createProxy)(String.raw`c:\Users\pc\OneDrive\Desktop\forth.studio\src\components\providers\AppProviders.tsx#AppProviders`),u={title:"forth.studio — Advance Your Code",description:"Algorithm-driven campus community: daily challenges, curated stories, and peer-reviewed projects to accelerate your engineering journey."};function m({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:`${a().className} bg-background`,children:r.jsx(c,{children:e})})})}},35480:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(19510),i=s(57371),a=s(5864),n=s(6961);async function o(){let{algorithmOfDay:e,campusInsights:t,communityCreations:s}=await (0,n.j4)();return(0,r.jsxs)("div",{className:"min-h-screen text-white",children:[(0,r.jsxs)("div",{className:"relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-x-0 -top-32 h-64 bg-hero-glow blur-3xl"}),(0,r.jsxs)("div",{className:"mx-auto flex min-h-screen max-w-7xl flex-col px-6 pb-16 pt-10 lg:px-8",children:[r.jsx(a.t,{}),(0,r.jsxs)("main",{className:"mt-16 flex flex-1 flex-col gap-14",children:[(0,r.jsxs)("section",{className:"grid gap-10 lg:grid-cols-[minmax(0,2fr),minmax(0,1fr)]",children:[r.jsx(l,{}),r.jsx(d,{algorithm:e})]}),(0,r.jsxs)("section",{id:"algorithms",className:"space-y-6",children:[r.jsx(c,{heading:"Campus & Career Insights",supporting:"Curated spotlights from campus chapters and alumni mentors."}),r.jsx(u,{items:t.map(({slug:e,...t})=>({...t,href:`/stories/${e}`}))})]}),(0,r.jsxs)("section",{id:"stories",className:"space-y-6",children:[r.jsx(c,{heading:"Community Creations",supporting:"Peer-reviewed builds, write-ups, and studio drops from across the network."}),r.jsx(u,{items:s.map(({slug:e,...t})=>({...t,href:`/projects/${e}`})),accent:"surface-muted"})]})]})]})]}),r.jsx(h,{})]})}function l(){return(0,r.jsxs)("div",{className:"relative overflow-hidden rounded-3xl border border-white/5 bg-surface py-12 pl-12 pr-6 shadow-card xl:pl-16",children:[r.jsx("div",{className:"absolute right-0 top-0 hidden h-[500px] w-[380px] -translate-y-12 translate-x-16 rotate-6 rounded-full bg-gradient-to-br from-accent to-cyan-500 opacity-30 blur-3xl lg:block"}),r.jsx("div",{className:"absolute bottom-0 right-0 hidden h-64 w-64 rounded-full border border-white/10 opacity-40 lg:block"}),(0,r.jsxs)("div",{className:"relative z-10 grid gap-12 lg:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("p",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold uppercase tracking-wider text-white/60",children:[r.jsx(x,{className:"h-3.5 w-3.5 text-accent"}),"Level up daily"]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("h1",{className:"text-4xl font-semibold leading-tight text-white sm:text-5xl",children:["Advance Your Code,",r.jsx("br",{}),"Advance Your Career"]}),r.jsx("p",{className:"text-base text-white/65 sm:text-lg",children:"Everyday algorithm challenges, peer-reviewed projects, and storytelling from your university network. Collaborate live, build in public, and ship the portfolio that stands out."})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,r.jsxs)("a",{href:"#algorithms",className:"inline-flex items-center justify-center gap-2 rounded-full bg-accent px-5 py-3 text-sm font-semibold text-accent-foreground shadow-lg shadow-accent/50 transition hover:-translate-y-0.5 hover:bg-indigo-500",children:["Start Today's Algorithm",r.jsx(p,{className:"h-4 w-4"})]}),r.jsx("a",{href:"#stories",className:"inline-flex items-center justify-center gap-2 rounded-full border border-white/10 px-5 py-3 text-sm font-semibold text-white/80 transition hover:text-white",children:"Read Career Stories"})]})]}),r.jsx("div",{className:"relative flex items-center justify-center",children:(0,r.jsxs)("div",{className:"relative h-80 w-full max-w-md overflow-hidden rounded-2xl border border-white/10 bg-gradient-to-br from-surface-muted/80 via-surface to-surface-muted/40 p-6",children:[r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(99,102,241,0.35),transparent_55%)]"}),(0,r.jsxs)("div",{className:"relative grid gap-3 text-sm text-white/70",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/5 bg-white/5 px-4 py-3",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wider text-white/40",children:"Live session"}),r.jsx("p",{className:"text-sm font-semibold text-white",children:"Neural graph studio \xc3‚\xc2\xb7 Room D"})]}),r.jsx("span",{className:"rounded-full bg-success/20 px-3 py-1 text-xs font-semibold text-success",children:"Active"})]}),r.jsx(m,{title:"Pair programming portal",description:"3 teammates connected \xc3‚\xc2\xb7 latency 12ms"}),r.jsx(m,{title:"Photon whiteboard",description:"Sketching heuristics for tomorrow"}),r.jsx(m,{title:"Synthesized dataset upload",description:"Ready for review by mentor Hana"}),(0,r.jsxs)("div",{className:"mt-4 grid gap-2 rounded-xl border border-white/5 bg-white/5 p-4",children:[r.jsx("p",{className:"text-xs uppercase tracking-wider text-white/40",children:"Today\xc3\xa2\xe2‚\xac\xe2„\xa2s focus"}),r.jsx("p",{className:"text-lg font-semibold text-white",children:"Collaborative algorithm debugging with real-time visual overlays."}),r.jsx("p",{className:"text-xs text-white/50",children:"Shared with 18 peers \xc3‚\xc2\xb7 Feedback window closes in 4h 12m"})]})]})]})})]})]})}function d({algorithm:e}){if(!e)return(0,r.jsxs)("aside",{className:"flex flex-col justify-between rounded-3xl border border-white/5 bg-gradient-to-b from-surface to-surface-muted/80 p-8 shadow-lg shadow-black/30",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("p",{className:"text-sm font-medium uppercase tracking-wider text-accent",children:"Algorithm of the Day"}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("h2",{className:"text-2xl font-semibold text-white",children:"New challenge coming soon"}),r.jsx("p",{className:"text-sm text-white/65",children:"Check back shortly for the latest campus-curated algorithm."})]})]}),(0,r.jsxs)(i.default,{href:"/algorithms",className:"mt-10 inline-flex items-center justify-center gap-2 rounded-full bg-white/10 px-5 py-3 text-sm font-semibold text-white transition hover:bg-accent hover:text-accent-foreground",children:["Explore algorithms",r.jsx(p,{className:"h-4 w-4"})]})]});let t=e.submissions?.length??0,s=e.tags.map(e=>e.tag.name).join(", ");return(0,r.jsxs)("aside",{className:"flex flex-col justify-between rounded-3xl border border-white/5 bg-gradient-to-b from-surface to-surface-muted/80 p-8 shadow-lg shadow-black/30",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("p",{className:"text-sm font-medium uppercase tracking-wider text-accent",children:"Algorithm of the Day"}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("h2",{className:"text-2xl font-semibold text-white",children:e.title}),r.jsx("p",{className:"text-sm text-white/65",children:e.summary})]}),(0,r.jsxs)("dl",{className:"grid grid-cols-2 gap-3 text-sm text-white/70",children:[(0,r.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 px-3 py-2",children:[r.jsx("dt",{className:"text-xs uppercase tracking-wider text-white/40",children:"Difficulty"}),r.jsx("dd",{className:"font-semibold text-white",children:e.difficulty})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 px-3 py-2",children:[r.jsx("dt",{className:"text-xs uppercase tracking-wider text-white/40",children:"Solved by"}),(0,r.jsxs)("dd",{className:"font-semibold text-white",children:[t," students"]})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 px-3 py-2",children:[r.jsx("dt",{className:"text-xs uppercase tracking-wider text-white/40",children:"Tags"}),r.jsx("dd",{className:"font-semibold text-white",children:s||"Coming soon"})]}),(0,r.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 px-3 py-2",children:[r.jsx("dt",{className:"text-xs uppercase tracking-wider text-white/40",children:"Mentor"}),r.jsx("dd",{className:"font-semibold text-white",children:e.createdBy?.name??"forth.studio mentors"})]})]})]}),(0,r.jsxs)(i.default,{href:`/algorithms/${e.slug}`,className:"mt-10 inline-flex items-center justify-center gap-2 rounded-full bg-white/10 px-5 py-3 text-sm font-semibold text-white transition hover:bg-accent hover:text-accent-foreground",children:["Attempt challenge",r.jsx(p,{className:"h-4 w-4"})]})]})}function c({heading:e,supporting:t}){return(0,r.jsxs)("div",{className:"flex flex-wrap items-end justify-between gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-white",children:e}),r.jsx("p",{className:"text-sm text-white/55",children:t})]}),r.jsx("a",{href:"#",className:"text-sm font-medium text-accent hover:text-white",children:"View all"})]})}function u({items:e,accent:t}){return r.jsx("div",{className:"grid gap-5 md:grid-cols-2 xl:grid-cols-3",children:e.map(e=>{let s=(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"absolute -top-24 right-0 h-44 w-44 rounded-full bg-accent/20 blur-3xl transition-opacity duration-300 group-hover:opacity-80"}),r.jsx("span",{className:"text-xs font-semibold uppercase tracking-widest text-accent",children:e.tag}),r.jsx("h3",{className:"mt-4 text-lg font-semibold text-white",children:e.title}),r.jsx("p",{className:"mt-2 text-sm text-white/60",children:e.description}),r.jsx("p",{className:"mt-6 text-xs uppercase tracking-wider text-white/40",children:e.meta})]}),a=r.jsx("article",{className:`group relative overflow-hidden rounded-2xl border border-white/5 p-6 transition duration-300 hover:-translate-y-1 hover:border-accent/40 hover:shadow-card ${t?"bg-surface-muted/70":"bg-surface/70"}`,children:s},e.title);return e.href?r.jsx(i.default,{href:e.href,className:"block focus:outline-none focus-visible:ring-2 focus-visible:ring-accent/60",children:a},e.title):a})})}function m({title:e,description:t}){return(0,r.jsxs)("div",{className:"relative grid gap-1 rounded-xl border border-white/5 bg-white/5 p-4",children:[r.jsx("p",{className:"text-sm font-semibold text-white",children:e}),r.jsx("p",{className:"text-xs text-white/50",children:t})]})}function h(){return r.jsx("footer",{className:"border-t border-white/5 bg-black/30",children:(0,r.jsxs)("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-4 px-6 py-6 text-sm text-white/50",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(a.c,{}),(0,r.jsxs)("span",{children:["(c) ",new Date().getFullYear()," forth.studio"]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[r.jsx("a",{className:"hover:text-white",href:"#",children:"Privacy"}),r.jsx("a",{className:"hover:text-white",href:"#",children:"Terms"}),r.jsx("a",{className:"hover:text-white",href:"#",children:"Support"})]})]})})}function x({className:e}){return(0,r.jsxs)("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[r.jsx("path",{d:"M5 3v4m2-2H3"}),r.jsx("path",{d:"m17 15 1 5 1-5 5-1-5-1-1-5-1 5-5 1 5 1Z"}),r.jsx("path",{d:"m4 17-1 2 1 1 2 1 1-2-1-1-2-1Z"})]})}function p({className:e}){return(0,r.jsxs)("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[r.jsx("path",{d:"M5 12h14"}),r.jsx("path",{d:"M13 6l6 6-6 6"})]})}},5864:(e,t,s)=>{"use strict";s.d(t,{c:()=>m,t:()=>u});var r=s(19510),i=s(57371),a=s(68570);let n=(0,a.createProxy)(String.raw`c:\Users\pc\OneDrive\Desktop\forth.studio\src\components\site\AuthButtons.tsx`),{__esModule:o,$$typeof:l}=n;n.default;let d=(0,a.createProxy)(String.raw`c:\Users\pc\OneDrive\Desktop\forth.studio\src\components\site\AuthButtons.tsx#AuthButtons`),c=[{label:"Algorithms",href:"/algorithms"},{label:"Stories",href:"/stories"},{label:"Best Solutions",href:"/best-solutions"}];function u(){return(0,r.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-4 rounded-2xl border border-white/5 bg-surface/60 px-6 py-4 backdrop-blur",children:[(0,r.jsxs)(i.default,{href:"/",className:"flex items-center gap-3",children:[r.jsx(m,{}),(0,r.jsxs)("span",{className:"text-lg font-semibold tracking-tight text-white",children:["forth",r.jsx("span",{className:"text-accent",children:".studio"})]})]}),r.jsx("nav",{className:"flex flex-1 items-center justify-center gap-6 text-sm font-medium text-white/70 max-md:order-last",children:c.map(e=>r.jsx(i.default,{href:e.href,className:"transition-colors hover:text-white",children:e.label},e.href))}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"hidden items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-2 text-sm text-white/60 lg:flex",children:[r.jsx(h,{className:"h-4 w-4 text-white/50"}),r.jsx("span",{children:"Search"}),r.jsx("kbd",{className:"rounded bg-surface-muted/60 px-1.5 py-0.5 text-[10px] uppercase tracking-wider text-white/40",children:"Ctrl K"})]}),r.jsx(d,{})]})]})}function m(){return r.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-indigo-500 via-purple-500 to-blue-500 font-semibold text-white shadow-lg shadow-indigo-500/40",children:"{}"})}function h({className:e}){return(0,r.jsxs)("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[r.jsx("circle",{cx:"11",cy:"11",r:"7"}),r.jsx("path",{d:"m20 20-3.5-3.5"})]})}},6961:(e,t,s)=>{"use strict";s.d(t,{AV:()=>g,DI:()=>a,E5:()=>n,NT:()=>c,RK:()=>p,VV:()=>m,YH:()=>u,a7:()=>x,g$:()=>d,j4:()=>h,r3:()=>o,rx:()=>l});var r=s(53524),i=s(13538);async function a(){return(await i.Z.problem.findMany({include:{tags:{include:{tag:!0}},submissions:{where:{status:r.SubmissionStatus.PASSED},select:{id:!0}},createdBy:{include:{university:!0}}},orderBy:{createdAt:"desc"}})).map(e=>({slug:e.slug,title:e.title,difficulty:e.difficulty,summary:e.summary,university:e.createdBy?.university?.name??void 0,solved:e.submissions.length,tags:e.tags.map(e=>e.tag.name),updatedAt:e.updatedAt.toISOString()}))}async function n(e){let t=await i.Z.problem.findUnique({where:{slug:e},include:{tags:{include:{tag:!0}},testcases:{orderBy:{isSample:"desc"}},submissions:{where:{status:r.SubmissionStatus.PASSED},select:{id:!0}},createdBy:{include:{university:!0}}}});if(!t)return null;let s=t.testcases.find(e=>e.isSample);return{problem:t,tags:t.tags.map(e=>e.tag.name),sample:s,related:await i.Z.problem.findMany({where:{slug:{not:e},difficulty:t.difficulty},select:{slug:!0,title:!0},take:3})}}async function o(e){let{search:t,universitySlug:s,tags:a,take:n}=e??{},o={status:r.StoryStatus.PUBLISHED};if(t){let e=t.trim();e&&(o.OR=[{title:{contains:e,mode:"insensitive"}},{excerpt:{contains:e,mode:"insensitive"}},{body:{contains:e,mode:"insensitive"}},{tags:{some:{tag:{name:{contains:e,mode:"insensitive"}}}}},{author:{OR:[{name:{contains:e,mode:"insensitive"}},{username:{contains:e,mode:"insensitive"}}]}}])}return s&&(o.university={slug:s}),a?.length&&(o.tags={some:{tag:{name:{in:a}}}}),(await i.Z.story.findMany({where:o,include:{author:!0,university:!0,tags:{include:{tag:!0}}},orderBy:{publishedAt:"desc"},take:n&&n>0?n:void 0})).map(e=>({slug:e.slug,title:e.title,summary:e.excerpt??e.body.slice(0,180),readingTime:e.body.split(/\s+/).length>0?`${Math.max(3,Math.round(e.body.split(/\s+/).length/200))} min read`:"5 min read",university:e.university?.name??"Independent",tags:e.tags.map(e=>e.tag.name)}))}async function l(e){return i.Z.story.findUnique({where:{slug:e,status:r.StoryStatus.PUBLISHED},include:{tags:{include:{tag:!0}},author:{include:{university:!0}}}})}async function d(){return(await i.Z.project.findMany({include:{owner:!0,university:!0,tags:{include:{tag:!0}},comments:{select:{id:!0}}},orderBy:{createdAt:"desc"}})).map(e=>({slug:e.slug,title:e.title,summary:e.summary,status:e.status,feedbackCount:e.comments.length,author:e.owner.name??e.owner.username,university:e.university?.name??"Independent",tags:e.tags.map(e=>e.tag.name)}))}async function c(e){return i.Z.project.findUnique({where:{slug:e},include:{owner:{include:{university:!0}},tags:{include:{tag:!0}},comments:{include:{author:!0},orderBy:{createdAt:"desc"}}}})}async function u(e=6){return(await i.Z.submission.findMany({where:{status:r.SubmissionStatus.PASSED},include:{user:{include:{university:!0}},problem:!0},orderBy:[{score:"desc"},{createdAt:"desc"}],take:e})).map(e=>({id:e.id,title:`${e.problem.title} by ${e.user.name??e.user.username}`,algorithm:e.problem.title,author:e.user.name??e.user.username,university:e.user.university?.name??"Independent",language:e.language,highlights:e.reviewerNote??"Mentor review queued. Highlights will appear once feedback is published.",votes:e.score??0,codeSnippet:e.code}))}async function m(e){return i.Z.submission.findUnique({where:{id:e},include:{user:{include:{university:!0}},problem:!0}})}async function h(){let e=new Date;e.setHours(0,0,0,0);let t=new Date(e);t.setHours(23,59,59,999);let[s,a,n,o]=await Promise.all([i.Z.dailyPick.findFirst({where:{date:{gte:e,lte:t}},include:{problem:{include:{tags:{include:{tag:!0}},submissions:{where:{status:r.SubmissionStatus.PASSED},select:{id:!0}},createdBy:{include:{university:!0}}}}},orderBy:{date:"desc"}}),i.Z.problem.findMany({include:{tags:{include:{tag:!0}},submissions:{where:{status:r.SubmissionStatus.PASSED},select:{id:!0}},createdBy:{include:{university:!0}}},orderBy:{createdAt:"desc"},take:16}),i.Z.story.findMany({where:{status:r.StoryStatus.PUBLISHED},include:{university:!0},orderBy:{publishedAt:"desc"},take:3}),i.Z.project.findMany({include:{university:!0},orderBy:{createdAt:"desc"},take:3})]);return{algorithmOfDay:s?.problem??(0===a.length?null:a[Number(new Date().toISOString().slice(0,10).replace(/-/g,""))%a.length]),campusInsights:n.map(e=>({title:e.title,description:e.university?.name??"forth.studio",tag:"Story",meta:e.publishedAt?e.publishedAt.toLocaleDateString():"Recent",slug:e.slug})),communityCreations:o.map(e=>({title:e.title,description:e.university?.name??"Independent",tag:e.status===r.ProjectStatus.LAUNCHED?"Launched":"Prototype",meta:e.createdAt.toLocaleDateString(),slug:e.slug}))}}async function x(e){let t=(e?await i.Z.user.findUnique({where:{id:e}}):await i.Z.user.findFirst({where:{role:r.Role.STUDENT},orderBy:{createdAt:"asc"}}))??null,[s,a,n,o,l]=await Promise.all([i.Z.submission.count({where:{userId:t?.id,status:r.SubmissionStatus.PASSED}}),i.Z.submission.count({where:{userId:t?.id,createdAt:{gte:new Date(Date.now()-6048e5)}}}),i.Z.comment.count({where:{project:{ownerId:t?.id}}}),i.Z.story.findFirst({where:{authorId:t?.id,status:r.StoryStatus.DRAFT},orderBy:{updatedAt:"desc"}}),i.Z.project.findFirst({where:{ownerId:t?.id},orderBy:{updatedAt:"desc"}})]);return{user:t,stats:{solvedCount:s,weeklySubmissions:a,feedbackCount:n},draftStory:o,latestProject:l,nextProblem:await i.Z.problem.findFirst({orderBy:{createdAt:"desc"},include:{tags:{include:{tag:!0}},createdBy:{include:{university:!0}}}}),featuredStory:await i.Z.story.findFirst({where:{status:r.StoryStatus.PUBLISHED},orderBy:{publishedAt:"desc"}}),topSubmission:await i.Z.submission.findFirst({where:{status:r.SubmissionStatus.PASSED},include:{user:{include:{university:!0}},problem:!0},orderBy:[{score:"desc"},{createdAt:"desc"}]})}}async function p(){return(await i.Z.university.findMany({take:4,orderBy:{createdAt:"asc"}})).map(e=>({name:e.name,headline:e.description??"Active chapter updates coming soon.",impact:`Community members from ${e.city??"campus"} are collaborating on studio challenges.`}))}async function g(){let[e,t]=await Promise.all([i.Z.university.findMany({where:{stories:{some:{status:r.StoryStatus.PUBLISHED}}},select:{id:!0,name:!0,slug:!0},orderBy:{name:"asc"}}),i.Z.tag.findMany({where:{domain:r.TagDomain.STORY},select:{id:!0,name:!0},orderBy:{name:"asc"}})]);return{universities:e,tags:t}}},13538:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(53524);let i=globalThis.prisma??new r.PrismaClient({log:["error"]})},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,819,404],()=>s(86970));module.exports=r})();